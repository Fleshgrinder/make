#!/usr/bin/env bash
set -Eeuo pipefail

################################################################################
##                       !!!! DO NOT EDIT THIS FILE !!!!                      ##
##                                                                            ##
## This file is part of https://github.com/fleshgrinder/make-runner and       ##
## overwritten if you update your installation of the framework. Refer to the ##
## project documentation for more information. Contributions are welcome!     ##
##                                                                            ##
##                       !!!! DO NOT EDIT THIS FILE !!!!                      ##
################################################################################

# Prints a given text inside a colored box.
#
# See box-err, box-info, box-ok, or box-warn for usage examples.

readonly color=${1:?missing required argument <color>}
shift

if [[ "${1:--}" == - ]]; then
    set - "$(cat /dev/stdin)"
fi

readonly width=116
readonly margin_left=2
readonly margin_right=2
readonly total_width=$((width + margin_left + margin_right))

printf "\n%b%${total_width}s%b\n" "${color}" ' ' "${RESET_COLORS}"

while IFS= read -r line; do
    printf "%b%${margin_left}s%-${width}s%${margin_right}s%b\n" "${color}" ' ' "${line}" ' ' "${RESET_COLORS}"
done < <(fold --spaces --width=${width} <<<"$@")

printf "%b%${total_width}s%b\n" "${color}" ' ' "${RESET_COLORS}\n"
